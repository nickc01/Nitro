<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
    
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Manual control | Nitro Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Manual control | Nitro Documentation ">
      <meta name="generator" content="docfx 2.59.4.0">
      
      <link rel="shortcut icon" href="../resources/favicon.png">
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/night-owl.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" integrity="sha384-EvBWSlnoFgZlXJvpzS+MAUEjvN7+gcCwH+qh7GRFOGgZO0PuwOFro7qPOJnLfe7l" crossorigin="anonymous">
      <link rel="stylesheet" href="../styles/config.css">
      <link rel="stylesheet" href="../styles/discord.css">
      <link rel="stylesheet" href="../styles/singulink.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.html">
      <meta property="docfx:tocrel" content="toc.html">
      
      <meta property="docfx:rel" content="../">
      <meta property="docfx:newtab" content="true">
    </head>
    <body>
        <div class="top-navbar">
            <a class="burger-icon" onclick="toggleMenu()">
                <svg name="Hamburger" style="vertical-align: middle;" width="34" height="34" viewbox="0 0 24 24"><path fill="currentColor" fill-rule="evenodd" clip-rule="evenodd" d="M20 6H4V9H20V6ZM4 10.999H20V13.999H4V10.999ZM4 15.999H20V18.999H4V15.999Z"></path></svg>
            </a>

            
            <a class="brand" href="../index.html">
              <img src="../resources/logo.png" alt="" class="logomark">
              <span class="brand-title"></span>
            </a>        </div>

        <div class="body-content">
            <div id="blackout" class="blackout" onclick="toggleMenu()"></div>

            <nav id="sidebar" role="navigation">
                <div class="sidebar">
                    
                    <div>
                      <div class="mobile-hide">
                        
                        <a class="brand" href="../index.html">
                          <img src="../resources/logo.png" alt="" class="logomark">
                          <span class="brand-title"></span>
                        </a>  </div>

                      <div class="sidesearch">
                        <form id="search" role="search" class="search">
                            <i class="bi bi-search search-icon"></i>
                            <input type="text" id="search-query" placeholder="Search" autocomplete="off">
                        </form>
                      </div>
                    
                      <div id="navbar">
                      </div>
                    </div>                    <div class="sidebar-item-separator"></div>
                        
                        <div id="sidetoggle">
                          <div id="sidetoc"></div>
                        </div>
                </div>
                <div class="footer">
                  Nitro Documentation
                  
                </div>            </nav>

            <main class="main-panel">
                
                <div id="search-results" style="display: none;">
                  <h1 class="search-list">Search Results for <span></span></h1>
                  <div class="sr-items">
                    <p><i class="bi bi-hourglass-split index-loading"></i></p>
                  </div>
                  <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
                </div>
                <div role="main" class="hide-when-search">
                        
                        <div class="subnav navbar navbar-default">
                          <div class="container hide-when-search" id="breadcrumb">
                            <ul class="breadcrumb">
                              <li></li>
                            </ul>
                          </div>
                        </div>

                    <article class="content wrap" id="_content" data-uid="">

<p>Combinable Powerups are powerups that can be combined with other powerups to produce new effects. The main way Nitro is able to accomplish this is via a powerup priority system. Every <a class="xref" href="../api/Nitro.CombinablePowerup.html">Combinable Powerup</a> has a set priority which determines the order the powerups will execute.</p>
<p><img src="https://user-images.githubusercontent.com/12601671/118350705-da88a780-b51d-11eb-9489-5ce25f57be25.PNG" alt="Electric Powerup Priority"></p>
<p>For example, lets say you collect a fire powerup, a water powerup, and an electric powerup, and the priorities of each of the powerups are the following:</p>
<h4 id="priorities">Priorities:</h4>
<ul>
<li>Fire Powerup : 1</li>
<li>Water Powerup : 2</li>
<li>Electric Powerup : 5</li>
</ul>
<p>Since the Electric Powerup has the highest priority, that means when you go to execute the powerups, the electric powerup will execute first. Then, the electric powerup will trigger the water powerup to run, which is second in the chain. And finally, the water powerup will trigger the fire powerup to run, which is last in the chain.</p>
<p>If the player was to collect a fire powerup and a water powerup, the water powerup will execute first, which is to spawn a puddle at the player&#39;s location.
<em>Snippet from <a href="https://github.com/nickc01/Nitro/blob/master/Assets/Scripts/Powerups/WaterPowerup.cs">WaterPowerup.cs</a></em></p>
<pre><code class="lang-csharp">/// &lt;summary&gt;
/// The main action of the combinable powerup
/// &lt;/summary&gt;
/// &lt;param name=&quot;previous&quot;&gt;The previous powerup in the chain. If this is null, then the currently executing powerup is first in the chain&lt;/param&gt;
/// &lt;param name=&quot;position&quot;&gt;The position of the collector the powerup is from&lt;/param&gt;
/// &lt;param name=&quot;rotation&quot;&gt;The rotation of the collector the powerup is from&lt;/param&gt;
/// &lt;param name=&quot;runNextPowerup&quot;&gt;A delegate used to execute the next powerup in the chain. Be sure to call this to make sure all the powerups in the chain get executed&lt;/param&gt;
public override void Execute(CombinablePowerup previous, Vector3 position, Quaternion rotation, Action&lt;Vector3, Quaternion&gt; runNextPowerup)
{
    //If this powerup is the first in the powerup chain
    if (previous == null)
    {
        //Spawn a large puddle
        SpawnPuddle(largePuddleSize, position);
    }
    else
    {
        //Spawn a small puddle
        SpawnPuddle(smallPuddleSize, position);
    }
    //Trigger the next powerup in the powerup chain. You can tell it to execute at a certain position and rotation
    runNextPowerup(position, rotation);

    //Signal that this powerup is done with its execution
    DoneUsingPowerup();
}
</code></pre><p>Then, the water powerup will trigger the next powerup in the chain via runNextPowerup, which in this case is the fire powerup. This powerup will spawn a circle of fire on top of the water puddle</p>
<p><em>Snippet from <a href="https://github.com/nickc01/Nitro/blob/master/Assets/Scripts/Powerups/FirePowerup.cs">FirePowerup.cs</a></em></p>
<pre><code class="lang-csharp">/// &lt;summary&gt;
/// The main action of the combinable powerup
/// &lt;/summary&gt;
/// &lt;param name=&quot;previous&quot;&gt;The previous powerup in the chain. If this is null, then the currently executing powerup is first in the chain&lt;/param&gt;
/// &lt;param name=&quot;position&quot;&gt;The position of the collector the powerup is from&lt;/param&gt;
/// &lt;param name=&quot;rotation&quot;&gt;The rotation of the collector the powerup is from&lt;/param&gt;
/// &lt;param name=&quot;runNextPowerup&quot;&gt;A delegate used to execute the next powerup in the chain. Be sure to call this to make sure all the powerups in the chain get executed&lt;/param&gt;
public override void Execute(CombinablePowerup previous, Vector3 position, Quaternion rotation, Action&lt;Vector3, Quaternion&gt; runNextPowerup)
{
    //If this is the first powerup in the chain
    if (previous == null)
    {
        //Spawn a fireball
        DoFireball(position, rotation, runNextPowerup);
    }
    //If this powerup isn&#39;t the first in the powerup chain
    else
    {
        //Spawn a circular pit of flames
        DoFirepit(position);
        //Trigger the next powerup in the chain to run
        runNextPowerup(position, rotation);
    }

    //Signal that this powerup is done with its execution
    DoneUsingPowerup();
}
</code></pre><p>The end result is a combined effect where both a puddle and fire particles are placed.</p>
<p><strong>NOTE</strong>: If you want to be able to collect, store, and execute multiple powerups, you will need to use a <a class="xref" href="../api/Nitro.MultiplePowerupCollector.html">Multiple Powerup Collector</a> Component, rather than a <a class="xref" href="../api/Nitro.SinglePowerupCollector.html">Single Powerup Collector</a> Component</p>
<p><img src="https://user-images.githubusercontent.com/12601671/118372070-421e1180-b575-11eb-9bea-34fac147c309.PNG" alt="Multiple Powerup Collector"></p>
<p><em>Final Result</em></p>
<p><img src="https://user-images.githubusercontent.com/12601671/118372189-f61f9c80-b575-11eb-827f-53c412d7beef.gif" alt="Puddle with Fire"></p>
<p>However, if I were to swap the priorities of the water powerup and the fire powerup, an entirely new powerup combination is done. Since the Fire powerup now has a higher priority, it will be its first to execute, which is to spawn a fireball.
Then, the fire powerup will trigger the water powerup to run, which is to spawn a puddle.</p>
<p>The final result is a fireball that will spawn a trail of puddles as it travels in a straight line. The fireball will be destroyed either when it hits something or after a set lifetime.</p>
<p><img src="https://user-images.githubusercontent.com/12601671/118372578-0173c780-b578-11eb-9aa2-ab720480ed72.gif" alt="Fireball with Puddles"></p>
<h2 id="manual-control">Manual control</h2>
<p>If you want more manual control over how your powerups combine with each other (like making a smoke effect when water and fire is combined), you can use the <a class="xref" href="../api/Nitro.CombinablePowerup.html#Nitro_CombinablePowerup_HasPowerupInChain__1">HasPowerupInChain</a> function to check if a certain powerup type is in the powerup chain. You can then use this to cause the powerup do so something different depending on what powerups are in the list.</p>
<pre><code class="lang-csharp">public override void Execute(CombinablePowerup previous, Vector3 position, Quaternion rotation, Action&lt;Vector3, Quaternion&gt; runNextPowerup)
{
    if (HasPowerupInChain&lt;WaterPowerup&gt;() &amp;&amp; HasPowerupInChain&lt;FirePowerup&gt;())
    {
        //...Do combo that is specific to fire and water
    }
    else
    {
        //...Do general combo of the powerups
        runNextPowerup(position, rotation);
    }
}
</code></pre><p>Other functions to look at include:</p>
<ul>
<li><a class="xref" href="../api/Nitro.CombinablePowerup.html#Nitro_CombinablePowerup_GetPowerupChain">GetPowerupChain</a> gets all the powerups currently in the powerup chain</li>
<li><a class="xref" href="../api/Nitro.CombinablePowerup.html#Nitro_CombinablePowerup_GetPowerupIndex">GetPowerupIndex</a> gets the current powerup&#39;s index in the powerup chain. This can be used in conjunction with <a class="xref" href="../api/Nitro.CombinablePowerup.html#Nitro_CombinablePowerup_GetPowerupChain">GetPowerupChain</a></li>
</ul>
</article>
                </div>

            </main>
        </div>

        
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
        <script type="text/javascript" src="../styles/jquery.twbsPagination.js"></script>
        <script type="text/javascript" src="../styles/url.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
        <script type="text/javascript" src="../styles/docfx.js"></script>
        <script type="text/javascript" src="../styles/singulink.js"></script>
        <script type="text/javascript" src="../styles/main.js"></script>    </body>
</html>
